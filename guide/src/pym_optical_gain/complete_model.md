# Complete model

The complete closed-loop NGAO model is given below:
```rust,no_run,noplayground
{{#include ../../../pym-optical-gain/src/main.rs}}
```

The model flowchart:

![pyramid optical gain](ngao_optical_gain.dot.svg)
